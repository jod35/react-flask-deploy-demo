(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{50:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);c(49),c(50);var r=c(0),n=c(21),s=c.n(n),a=c(9),i=c(12),l=c(46),o=Object(l.createAuthProvider)({accessTokenKey:"access_token",onUpdateToken:function(e){return fetch("/auth/refresh",{method:"POST",body:e.refresh_token}).then((function(e){return e.json()}))}}),j=Object(a.a)(o,4),d=j[0],b=(j[1],j[2]),h=j[3],O=c(1),u=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link active",to:"/",children:"Home"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link  active",to:"/create_recipe",children:"Create Recipes"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("a",{className:"nav-link active",href:"#",onClick:function(){h()},children:"Log Out"})})]})},x=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link active",to:"/",children:"Home"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link active",to:"/signup",children:"Sign Up"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link active",to:"/login",children:"Login"})})]})},p=function(){var e=d(),t=Object(a.a)(e,1)[0];return Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsx)(i.b,{className:"navbar-brand",to:"/",children:"Recipes"}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("span",{className:"navbar-toggler-icon"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(O.jsx)("ul",{className:"navbar-nav",children:t?Object(O.jsx)(u,{}):Object(O.jsx)(x,{})})})]})})},m=c(10),v=c(2),g=c(69),f=c(65),y=function(e){var t=e.title,c=e.description,r=e.onClick,n=e.onDelete;return Object(O.jsx)(g.a,{className:"recipe",children:Object(O.jsxs)(g.a.Body,{children:[Object(O.jsx)(g.a.Title,{children:t}),Object(O.jsx)("p",{children:c}),Object(O.jsx)(f.a,{variant:"primary",onClick:r,children:"Update"}),"     ",Object(O.jsx)(f.a,{variant:"danger",onClick:n,children:"Delete"})]})})},N=c(66),L=c(67),S=c(23),w=function(){var e,t,c=Object(r.useState)([]),n=Object(a.a)(c,2),s=n[0],i=n[1],l=Object(r.useState)(!1),o=Object(a.a)(l,2),j=o[0],d=o[1],b=Object(r.useState)(1),h=Object(a.a)(b,2),u=h[0],x=h[1],p=Object(S.a)(),g=p.register,w=p.handleSubmit,C=p.setValue,k=p.formState.errors,T=(Object(m.f)(),localStorage.getItem("REACT_TOKEN_AUTH_KEY"));Object(r.useEffect)((function(){fetch("/recipe/recipes").then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)}))}),[]);return Object(O.jsxs)("div",{className:"recipes container",children:[Object(O.jsxs)(N.a,{show:j,onHide:function(){d(!1)},size:"lg",children:[Object(O.jsx)(N.a.Header,{closeButton:!0,children:Object(O.jsx)(N.a.Title,{children:"Update A Recipe"})}),Object(O.jsx)(N.a.Body,{children:Object(O.jsxs)("form",{children:[Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Title"}),Object(O.jsx)(L.a.Control,Object(v.a)({type:"text"},g("title",{required:!0,maxLength:25})))]}),k.title&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Title is required"})}),"maxLength"===(null===(e=k.title)||void 0===e?void 0:e.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Title should be less than 25 characters"})}),Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Description"}),Object(O.jsx)(L.a.Control,Object(v.a)({as:"textarea",rows:5},g("description",{required:!0,maxLength:255})))]}),k.description&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Description is required"})}),"maxLength"===(null===(t=k.description)||void 0===t?void 0:t.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Description should be less than 255 characters"})}),Object(O.jsx)("br",{}),Object(O.jsx)(L.a.Group,{children:Object(O.jsx)(f.a,{variant:"primary",onClick:w((function(e){console.log(u);var t={method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(T))},body:JSON.stringify(e)};fetch("recipe/recipe/".concat(u),t).then((function(e){return e.json()})).then((function(e){console.log(e),fetch("/recipe/recipes").then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),d(!1)})),children:"Save"})})]})})]}),s.length>0?Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"List of Recipes"}),s.map((function(e,t){return Object(O.jsx)(y,{title:e.title,onClick:function(){var t;t=e.id,console.log("Hello ",t),d(!0),x(t),s.map((function(e){e.id==t&&(x(t),C("title",e.title),C("description",e.description))}))},description:e.description,onDelete:function(){var t;t=e.id,console.log("deleting ".concat(t)),fetch("/recipe/recipe/".concat(t),{method:"DELETE",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(T))}}).then((function(e){return e.json()})).then((function(e){fetch("/recipe/recipes").then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}},t)}))]}):Object(O.jsx)("div",{children:"There are currently no recipes"})]})},C=function(){return Object(O.jsxs)("div",{className:"home container",children:[Object(O.jsx)("h1",{className:"heading",children:"Welcome to the Recipes"}),Object(O.jsx)(i.b,{to:"/signup",className:"btn btn-primary btn-lg",children:"Get Started"})]})},k=function(){var e=d(),t=Object(a.a)(e,1)[0];return Object(O.jsx)("div",{children:t?Object(O.jsx)(w,{}):Object(O.jsx)(C,{})})},T=c(68),P=function(){var e,t,c,n,s=Object(S.a)(),l=s.register,o=s.handleSubmit,j=s.reset,d=s.formState.errors,b=Object(r.useState)(!1),h=Object(a.a)(b,2),u=h[0],x=h[1],p=Object(r.useState)(""),m=Object(a.a)(p,2),g=m[0],y=m[1];return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"form",children:[u?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.a,{variant:"success",onClose:function(){x(!1)},dismissible:!0,children:Object(O.jsx)("p",{children:g})}),Object(O.jsx)("h1",{children:"Sign Up Page"})]}):Object(O.jsx)("h1",{children:"Sign Up Page"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Username"}),Object(O.jsx)(L.a.Control,Object(v.a)({type:"text",placeholder:"Your username"},l("username",{required:!0,maxLength:25}))),d.username&&Object(O.jsx)("small",{style:{color:"red"},children:"Username is required"}),"maxLength"===(null===(e=d.username)||void 0===e?void 0:e.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Max characters should be 25 "})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Email"}),Object(O.jsx)(L.a.Control,Object(v.a)({type:"email",placeholder:"Your email"},l("email",{required:!0,maxLength:80}))),d.email&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Email is required"})}),"maxLength"===(null===(t=d.email)||void 0===t?void 0:t.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Max characters should be 80"})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Password"}),Object(O.jsx)(L.a.Control,Object(v.a)({type:"password",placeholder:"Your password"},l("password",{required:!0,minLength:8}))),d.password&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Password is required"})}),"minLength"===(null===(c=d.password)||void 0===c?void 0:c.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Min characters should be 8"})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Confirm Password"}),Object(O.jsx)(L.a.Control,Object(v.a)({type:"password",placeholder:"Your password"},l("confirmPassword",{required:!0,minLength:8}))),d.confirmPassword&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Confirm Password is required"})}),"minLength"===(null===(n=d.confirmPassword)||void 0===n?void 0:n.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Min characters should be 8"})})]}),Object(O.jsx)("br",{}),Object(O.jsx)(L.a.Group,{children:Object(O.jsx)(f.a,{as:"sub",variant:"primary",onClick:o((function(e){if(e.password===e.confirmPassword){var t={username:e.username,email:e.email,password:e.password},c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)};fetch("/auth/signup",c).then((function(e){return e.json()})).then((function(e){console.log(e),y(e.message),x(!0)})).catch((function(e){return console.log(e)})),j()}else alert("Passwords do not match")})),children:"SignUp"})}),Object(O.jsx)("br",{}),Object(O.jsx)(L.a.Group,{children:Object(O.jsxs)("small",{children:["Already have an account, ",Object(O.jsx)(i.b,{to:"/login",children:"Log In"})]})}),Object(O.jsx)("br",{})]})]})})},q=function(){var e,t,c=Object(S.a)(),r=c.register,n=c.handleSubmit,s=c.reset,a=c.formState.errors,l=Object(m.f)();return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"form",children:[Object(O.jsx)("h1",{children:"Login Page"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Username"}),Object(O.jsx)(L.a.Control,Object(v.a)({type:"text",placeholder:"Your username"},r("username",{required:!0,maxLength:25})))]}),a.username&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Username is required"})}),"maxLength"===(null===(e=a.username)||void 0===e?void 0:e.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Username should be 25 characters"})}),Object(O.jsx)("br",{}),Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Password"}),Object(O.jsx)(L.a.Control,Object(v.a)({type:"password",placeholder:"Your password"},r("password",{required:!0,minLength:8})))]}),a.username&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Password is required"})}),"maxLength"===(null===(t=a.password)||void 0===t?void 0:t.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Password should be more than 8 characters"})}),Object(O.jsx)("br",{}),Object(O.jsx)(L.a.Group,{children:Object(O.jsx)(f.a,{as:"sub",variant:"primary",onClick:n((function(e){console.log(e);var t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)};fetch("/auth/login",t).then((function(e){return e.json()})).then((function(e){console.log(e.access_token),e?(b(e.access_token),l.push("/")):alert("Invalid username or password")})),s()})),children:"Login"})}),Object(O.jsx)("br",{}),Object(O.jsx)(L.a.Group,{children:Object(O.jsxs)("small",{children:["Do not have an account? ",Object(O.jsx)(i.b,{to:"/signup",children:"Create One"})]})})]})]})})},G=function(){var e,t,c=Object(S.a)(),r=c.register,n=c.handleSubmit,s=(c.reset,c.formState.errors),a=Object(m.f)();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{children:"Create A Recipe"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Title"}),Object(O.jsx)(L.a.Control,Object(v.a)({type:"text"},r("title",{required:!0,maxLength:25})))]}),s.title&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Title is required"})}),"maxLength"===(null===(e=s.title)||void 0===e?void 0:e.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Title should be less than 25 characters"})}),Object(O.jsxs)(L.a.Group,{children:[Object(O.jsx)(L.a.Label,{children:"Description"}),Object(O.jsx)(L.a.Control,Object(v.a)({as:"textarea",rows:5},r("description",{required:!0,maxLength:255})))]}),s.description&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Description is required"})}),"maxLength"===(null===(t=s.description)||void 0===t?void 0:t.type)&&Object(O.jsx)("p",{style:{color:"red"},children:Object(O.jsx)("small",{children:"Description should be less than 255 characters"})}),Object(O.jsx)("br",{}),Object(O.jsx)(L.a.Group,{children:Object(O.jsx)(f.a,{variant:"primary",onClick:n((function(e){console.log(e);var t=localStorage.getItem("REACT_TOKEN_AUTH_KEY");console.log(t);var c={method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(t))},body:JSON.stringify(e)};fetch("/recipe/recipes",c).then((function(e){return e.json()})).then((function(e){console.log(e),a.push("/")})).catch((function(e){return console.log(e)}))})),children:"Save"})})]})]})},U=function(){return Object(O.jsx)(i.a,{children:Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)(p,{}),Object(O.jsxs)(m.c,{children:[Object(O.jsx)(m.a,{path:"/create_recipe",children:Object(O.jsx)(G,{})}),Object(O.jsx)(m.a,{path:"/login",children:Object(O.jsx)(q,{})}),Object(O.jsx)(m.a,{path:"/signup",children:Object(O.jsx)(P,{})}),Object(O.jsx)(m.a,{path:"/",children:Object(O.jsx)(k,{})})]})]})})};s.a.render(Object(O.jsx)(U,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.e8538328.chunk.js.map